---
title: 脚本事件页面
description: 了解如何向您的分析提供商发送页面事件。
---

## 背景

在使用跟踪脚本时，通常会在页面更改时发送事件。由于 Nuxt 的 head 实现是异步的，页面标题在路由更改时不一定立即可用。

Nuxt Scripts 提供了 [useScriptEventPage](/docs/api/use-script-event-page) 组合式函数来解决这个问题。

有关可用选项的完整详细信息，请参阅 [API](/docs/api/use-script-event-page) 文档。

### 用法

该组合式函数通过提供一个函数来工作，该函数将在页面更改时调用，并提供新解析的标题和路径。

您可以将此函数与任何在路由更改时页面标题不准确的分析提供商配合使用。

```ts
const { proxy } = useScriptGoogleAnalytics()

useScriptEventPage(({ title, path }) => {
  // 在路由更改时触发
  proxy.gtag('event', 'page_view', {
    page_title: title,
    page_location: 'https://example.com',
    page_path: path
  })
})
```